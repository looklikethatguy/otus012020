### Практика

1. Создать сервис и unit-файлы для этого сервиса:
- сервис: bash, python или другой скрипт, который мониторит log-файл на наличие ключевого слова;
- ключевое слово и путь к log-файлу должны браться из /etc/sysconfig/ (.service);
- сервис должен активироваться раз в 30 секунд (.timer).

Для проверки результата нужно из каталога `1 systemd unit` выполнить команду `vagrant up`.

2. Дополнить unit-файл сервиса httpd возможностью запустить несколько экземпляров сервиса с разными конфигурационными файлами.

Для проверки результата нужно из каталога `3 httpd multisocket` выполнить команду `vagrant up`.

3. Создать unit-файл(ы) для сервиса:
- сервис: Kafka, Jira или любой другой, у которого код успешного завершения не равен 0 (к примеру, приложение Java или скрипт с exit 143);
	- Использовал jira.

- ограничить сервис по использованию памяти;
	- Установил ограничение 128 Мб. Значение `limited` видно при вызове `systemctl status jira.service`.

- ограничить сервис ещё по трём ресурсам, которые не были рассмотрены на лекции;
	- Добавил значения Nice, CPUShares, StartupCPUShares, BlockIOWeight таким образом, чтобы сервис создавал минимальную нагрузку на систему.

- реализовать один из вариантов restart и объяснить почему выбран именно этот вариант.
	- Выбрал вариант `on-failure`, так как это позволит перезапускать сервис только при аварийном завершении. Проверял так: если прибить основной процесс, то сервер перезапустится, если вызвать скрипт `jira-stop.sh` или `systemctl stop jira.service`, то перезапуска не произойдёт.
 
* реализовать активацию по .path или .socket.
	- Реализовал запуск по .socket, для чего написал юнит. Сокет слушает локалхост на порту 8080.

Для проверки результата нужно из каталога `4 jira` выполнить команду `vagrant up`. В консоли будет показан слушающий сокет на порту 8080. Если, например, сделать `curl localhost:8080`, то сервис будет активирован.

4*. Создать unit-файл(ы):
- сервис: демо-версия Atlassian Jira;
- переписать(!) скрипт запуска на unit-файл.

Этот пункт не выполнялся!

Много полезного написано в [справке по сервисам](https://www.freedesktop.org/software/systemd/man/systemd.service.html) и [справке по ограничениям](https://www.freedesktop.org/software/systemd/man/systemd.resource-control.html).

Пример юнита для `jira` был взят на [официальном сайте](https://confluence.atlassian.com/jirakb/run-jira-as-a-systemd-service-on-linux-979411854.html).
